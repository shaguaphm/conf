#============UserScript=============#
# @Autor        chxm1023
# @TgChannel    https://t.me/chxm1023
#===================================#
# æ›´æ–°æ—¥æœŸï¼š 2023-07-26

# æœ¬é…ç½®åœ°å€ï¼šhttps://raw.githubusercontent.com/chxm1023/Script_X/main/Stash.yaml

# å»ºè®®åœ¨ã€Œè®¾ç½® -> æ›´å¤šè®¾ç½® -> Geoipã€å¡«å†™ä½¿ç”¨ä¸‹é¢é“¾æ¥(äºŒé€‰ä¸€å³å¯)
# https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# https://raw.githubusercontent.com/Hackl0us/GeoIP2-CN/release/Country.mmdb

# è§£é”ç½‘æ˜“äº‘ç°è‰²éŸ³ä¹ï¼Œè·å–è¯ä¹¦é“¾æ¥(ä¸‹åˆ—äºŒé€‰ä¸€ä¸‹è½½å®‰è£…)
# https://raw.githubusercontent.com/nondanee/UnblockNeteaseMusic/master/ca.crt
# https://cdn.jsdelivr.net/gh/nondanee/UnblockNeteaseMusic@master/ca.crt

# åˆ©ç”¨æè¿°æ–‡ä»¶å±è”½iOSæ›´æ–°æé†’
# https://app.initnil.com/tvOS.mobileconfig

#============UserScript=============#
# å¡«å†™è®¢é˜…é“¾æ¥ç”¨äºè·å–æœºåœºæµé‡ä¿¡æ¯å¹¶åœ¨ä¸»é¡µæ˜¾ç¤º
subscribe-url:
# æ¨¡å¼è®¾ç½®ï¼šruleï¼ˆè§„åˆ™ï¼‰ / globalï¼ˆå…¨å±€ä»£ç†ï¼‰/ directï¼ˆå…¨å±€ç›´è¿ï¼‰
mode: rule
# è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ«
log-level: info
# å…è®¸å±€åŸŸç½‘
allow-lan: true
# ç›‘å¬IPç™½åå•ï¼Œå¯ç»‘å®šå•ä¸ªIPv4å’Œv6åœ°å€ï¼Œ"*" ä¸ºç»‘å®šæ‰€æœ‰IPåœ°å€ï¼Œä»…åœ¨å°†allow-lanè®¾ç½®ä¸ºtrueæ—¶é€‚ç”¨
# bind-address: "*"
# æ··åˆç«¯å£ï¼ŒHTTPå’ŒSOCKS5ç”¨ä¸€ä¸ªç«¯å£
# mixed-port: 7890                   
# å¤–éƒ¨æ§åˆ¶å™¨ç›‘å¬åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ RESTful API æ¥æ§åˆ¶ä½ çš„ clash å†…æ ¸
# external-controller: 127.0.0.1:9090
# IPV6è§£æ(å¼€å¯ true|å…³é—­ false)
ipv6: false



#===================================#
# DNS æœåŠ¡å™¨é…ç½®
dns:
  # å…³é—­å°†ä½¿ç”¨ç³»ç»Ÿ DNS
  enable: true
  # IPV6è§£æå¼€å…³ï¼›å¦‚æœä¸ºfalseï¼Œå°†è¿”å›ipv6ç»“æœä¸ºç©º
  ipv6: false
  # æ¨¡å¼ï¼šredir-hostæˆ–fake-ip
  enhanced-mode: fake-ip
  # DNS ç›‘å¬åœ°å€
  listen: 0.0.0.0:1053
  # è§£æéIPçš„dnsç”¨çš„dnsæœåŠ¡å™¨ï¼Œåªæ”¯æŒçº¯IP
  default-nameserver:
    - 114.114.114.114
    - 202.141.176.93
    - 202.141.178.13
    - 117.50.10.10
    - 223.5.5.5
    - 119.29.29.29
    - 119.28.28.28
    - 8.8.8.8
    - system
  # è§£æåœ°å€æ± 
  fake-ip-range: 198.18.0.1/16
  # è¿‡æ»¤åˆ—è¡¨ä¸­çš„åŸŸåè¿”å›çœŸå®IP
  fake-ip-filter:
    - '+.lan'
    - '+.stun.*.*'
    - '+.stun.*.*.*'
    - '+.stun.*.*.*.*'
    - '+.stun.*.*.*.*.*'
    - 'lens.l.google.com'
    - '*.n.n.srv.nintendo.net'
    - '+.srv.nintendo.net'
    - '+.stun.playstation.net'
    - '+.xboxlive.com'
    - 'xbox.*.*.microsoft.com'
    - '*.*.xboxlive.com'
    - '*.msftncsi.com'
    - '*.msftconnecttest.com'
    - '*.mcdn.bilivideo.cn'
    - 'localhost.ptlogin2.qq.com'
    - '*.battlenet.com.cn'
    - '*.battlenet.com'
    - '*.blzstatic.cn'
    - '*.battle.net'
  fallback:
    - https://1.1.1.1/dns-query
    - https://dns.google/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
    - 240.0.0.0/4
  # DNSæœåŠ¡å™¨
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
  # è·³è¿‡è¯ä¹¦éªŒè¯ï¼Œè§£å†³éƒ¨åˆ†å…¼å®¹æ€§é—®é¢˜
  skip-cert-verify: true



#===================================#
# è¿œç¨‹è®¢é˜…ç›¸å…³
p: &p {type: http, interval: 172800, health-check: {enable: true}}
# è¿œç¨‹ä»£ç†é›†
proxy-providers:
# 1.è¯·ä½¿ç”¨Clashç±»å‹è®¢é˜…é“¾æ¥å¡«å…¥å¼•å·url:""å†…ä½¿ç”¨
# 2.æˆ–å¯ä½¿ç”¨é€šç”¨è®¢é˜…é“¾æ¥é€šè¿‡Sub-Storeè¿›è¡Œè®¢é˜…è½¬æ¢(ç”¨äºStash)
  
  Subscribe: {<<: *p, url: "å¤åˆ¶è®¢é˜…åœ°å€åˆ°è¿™é‡Œ"}

  ä¸´æ—¶èŠ‚ç‚¹: {<<: *p, url: "https://api.subcloud.xyz/sub?target=clash&url=https%3A%2F%2Fpastebin.com%2Fraw%2FGxR5pELe&insert=false&config=https%3A%2F%2Fraw.githubusercontent.com%2FACL4SSR%2FACL4SSR%2Fmaster%2FClash%2Fconfig%2FACL4SSR_Online.ini&emoji=true&list=false&tfo=false&scv=true&fdn=true&sort=true&udp=true&new_name=true"}

  ç½‘æ˜“äº‘èŠ‚ç‚¹: {<<: *p, url: "https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/NeteaseMusic/AgentNode/Stash.yaml"}



#===================================#
# ç­–ç•¥ç»„
proxy-groups:
# å…¨éƒ¨èŠ‚ç‚¹
- filter: "^((?!(ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|å®˜ç½‘|æµé‡|åŠ ç¾¤|è®¢é˜…|è·å–|åˆ·æ–°|é¸¡åœº|æœºåœº|è®¢è´­|è´­ä¹°|å¥—é¤|é‡ç½®|åˆ†äº«|ç½‘å€|é‚€è¯·|å…¬ä¼—å·|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/chxm1023/Script_X/main/icon/stash1.png
  include-all: true
  name: å…¨éƒ¨èŠ‚ç‚¹
  proxies: []
  type: select
# ç­–ç•¥é€‰æ‹©
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Back.png
  name: ç­–ç•¥é€‰æ‹©
  proxies:
    - å»¶è¿Ÿæœ€ä½
    - å…¨éƒ¨èŠ‚ç‚¹
    - è´Ÿè½½å‡è¡¡
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
  type: select
# Emby
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png
  name: Emby
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
    - ç›´è¿æ¨¡å¼
  type: select
# TikTok
- icon: https://raw.githubusercontent.com/chxm1023/Script_X/main/icon/TikTok_1.png
  name: TikTok
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# Github
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/GitHub.png
  name: Github
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# Google
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png
  name: Google
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# Spotify
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Spotify.png
  name: Spotify
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å°åº¦èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# Twitter
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Twitter.png
  name: Twitter
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# Netflix
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netflix_Letter.png
  name: Netflix
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# Disney
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Disney+.png
  name: Disney+
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# YouTube
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png
  name: YouTube
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# ChatGPT
- icon: https://raw.githubusercontent.com/chxm1023/Script_X/main/icon/ChatGPT/ChatGPT4.png
  name: ChatGPT
  proxies:
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# Telegram
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram.png
  name: Telegram
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# Instagram
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Instagram.png
  name: Instagram
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# Facebook
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Facebook.png
  name: Facebook
  proxies:
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - ç­–ç•¥é€‰æ‹©
  type: select
# ç½‘æ˜“äº‘éŸ³ä¹
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netease_Music_Unlock.png
  name: ç½‘æ˜“äº‘éŸ³ä¹
  proxies:
    - ç›´è¿æ¨¡å¼
    - ç½‘æ˜“äº‘èŠ‚ç‚¹
  type: select
# ç½‘æ˜“äº‘èŠ‚ç‚¹
- filter: "(?i)(ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Netease_Music.png
  include-all: true
  name: ç½‘æ˜“äº‘èŠ‚ç‚¹
  proxies: []
  type: select
# å¾®è½¯æœåŠ¡
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png
  name: å¾®è½¯æœåŠ¡
  proxies:
    - ç›´è¿æ¨¡å¼
    - ç­–ç•¥é€‰æ‹©
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
  type: select
# è‹¹æœæœåŠ¡
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png
  name: è‹¹æœæœåŠ¡
  proxies:
    - ç›´è¿æ¨¡å¼
    - ç­–ç•¥é€‰æ‹©
  type: select
# ç³»ç»Ÿæ›´æ–°
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple_Update.png
  name: ç³»ç»Ÿæ›´æ–°
  proxies:
    - æ‹¦æˆªæ¨¡å¼
    - ç›´è¿æ¨¡å¼
  type: select
# å…¨çƒåŠ é€Ÿ
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png
  name: å…¨çƒåŠ é€Ÿ
  proxies:
    - ç­–ç•¥é€‰æ‹©
    - ç›´è¿æ¨¡å¼
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
  type: select
# å›½é™…ä»£ç†
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Airport.png
  name: å›½é™…ä»£ç†
  proxies:
    - ç­–ç•¥é€‰æ‹©
    - é¦™æ¸¯èŠ‚ç‚¹
    - å°æ¹¾èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - éŸ©å›½èŠ‚ç‚¹
    - ç‹®åŸèŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - ç›´è¿æ¨¡å¼
  type: select
# å»¶è¿Ÿæœ€ä½
- filter: "^((?!(ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|å®˜ç½‘|æµé‡|åŠ ç¾¤|è®¢é˜…|è·å–|åˆ·æ–°|é¸¡åœº|æœºåœº|è®¢è´­|è´­ä¹°|å¥—é¤|é‡ç½®|åˆ†äº«|ç½‘å€|é‚€è¯·|å…¬ä¼—å·|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Download.png
  include-all: true
  interval: 600
  lazy: true
  name: å»¶è¿Ÿæœ€ä½
  proxies: []
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204
# è´Ÿè½½å‡è¡¡
- filter: "(?=.*((?i)\U0001F1ED\U0001F1F0|é¦™|æ¸¯|é¦™æ¸¯|é¦™æ±Ÿ|é¦™å²›|æ¹¾ä»”|æ¸¯ä»”|ä¹é¾™|é“œé”£æ¹¾|æ—ºè§’|HK|Hong|HongKong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/SSID.png
  include-all: true
  interval: 600
  lazy: true
  name: è´Ÿè½½å‡è¡¡
  proxies: []
  tolerance: 50
  type: load-balance
  url: http://cp.cloudflare.com/generate_204
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Proxy.png
  name: ç›´è¿æ¨¡å¼
  proxies:
    - DIRECT
    - ç­–ç•¥é€‰æ‹©
  type: select
# æ‹¦æˆªæ¨¡å¼
- icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Reject.png
  name: æ‹¦æˆªæ¨¡å¼
  proxies:
    - REJECT
  type: select
# é¦™æ¸¯èŠ‚ç‚¹
- filter: "(?=.*((?i)\U0001F1ED\U0001F1F0|é¦™|æ¸¯|é¦™æ¸¯|é¦™æ±Ÿ|é¦™å²›|æ¹¾ä»”|æ¸¯ä»”|ä¹é¾™|é“œé”£æ¹¾|æ—ºè§’|HK|Hong|HongKong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
  include-all: true
  interval: 600
  lazy: true
  name: é¦™æ¸¯èŠ‚ç‚¹
  proxies: []
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204
# å°æ¹¾èŠ‚ç‚¹
- filter: "(?=.*((?i)\U0001F1E8\U0001F1F3|å°|å°æ¹¾|å°åŒ—|æ–°åŒ—|æ¡ƒå›­|å°ä¸­|å°å—|é«˜é›„|åŸºéš†|æ–°ç«¹|å˜‰ä¹‰|è‹—æ —|å½°åŒ–|å—æŠ•|äº‘æ—|å±ä¸œ|å°ä¸œ|èŠ±è²|å®œå…°|æ¾æ¹–|é‡‘é—¨|è¿æ±Ÿ|TW|Taiwan))^((?!(æ¸¯|æ—¥|éŸ©|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png
  include-all: true
  interval: 600
  lazy: true
  name: å°æ¹¾èŠ‚ç‚¹
  proxies: []
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204
# æ—¥æœ¬èŠ‚ç‚¹
- filter: "(?=.*((?i)\U0001F1EF\U0001F1F5|æ—¥|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|åå¤å±‹|ç¦å†ˆ|ä»™å°|äº¬éƒ½|Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
  include-all: true
  interval: 600
  lazy: true
  name: æ—¥æœ¬èŠ‚ç‚¹
  proxies: []
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204
# éŸ©å›½èŠ‚ç‚¹
- filter: "(?=.*((?i)\U0001F1F0\U0001F1F7|éŸ©|éŸ©å›½|å—éŸ©|å—æœé²œ|é«˜ä¸½|å¤§éŸ©æ°‘å›½|é¦–å°”|ä¸–å®—|æµå·å¸‚|æ°´åŸ|é‡œå±±|å¤§é‚±|ä»å·|å…‰å·|å¤§ç”°|è”šå±±|KR|Korea|Korean|South
    Korea))^((?!(æ¸¯|å°|æ—¥|æ–°|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png
  include-all: true
  interval: 600
  lazy: true
  name: éŸ©å›½èŠ‚ç‚¹
  proxies: []
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204
# æ–°åŠ å¡èŠ‚ç‚¹
- filter: "(?=.*((?i)\U0001F1F8\U0001F1EC|æ–°|ç‹®|ç…|å¡|æ–°åŠ å¡|æ˜Ÿ|æ˜ŸåŠ å¡|æ˜Ÿæ´²|ç‹®åŸ|SG|Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
  include-all: true
  interval: 600
  lazy: true
  name: ç‹®åŸèŠ‚ç‚¹
  proxies: []
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204
# ç¾å›½èŠ‚ç‚¹
- filter: "(?=.*((?i)\U0001F1FA\U0001F1F8|ç¾|ç¾å›½|ç¾åˆ©åšåˆä¼—å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|åç››é¡¿|å†…åè¾¾|è’™å¤§çº³|æ€€ä¿„æ˜å·|è²å°¼å…‹æ–¯|é˜¿å°”ä¼¯å…‹åŸº|ä¸¹ä½›|US|United
    States|States|American))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
  include-all: true
  interval: 600
  lazy: true
  name: ç¾å›½èŠ‚ç‚¹
  proxies: []
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204
# å°åº¦èŠ‚ç‚¹
- filter: "(?=.*((?i)\U0001F1FA\U0001F1F8|ğŸ‡®ğŸ‡³|å°åº¦|ç­åŠ ç½—å°”|å­Ÿä¹°|Mumbai|^IN|India)(?!å°¼è¥¿äºš)))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°|è‹±|å¹³|é‚€|ç¾¤|åˆ·æ–°|ç½‘|ç½‘æ˜“|ç½‘æ˜“äº‘|ç½‘æ˜“äº‘éŸ³ä¹|éŸ³ä¹|äº‘éŸ³ä¹|Netease|Music|\U0001D40C\U0001D42E\U0001D42C\U0001D422\U0001D41C|Unbolck|Update|music|\U0001F3B5|\U0001F3B6|\U0001F3A7)).)*$"
  icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/India.png
  include-all: true
  interval: 600
  lazy: true
  name: å°åº¦èŠ‚ç‚¹
  proxies: []
  tolerance: 50
  type: url-test
  url: http://cp.cloudflare.com/generate_204


#===================================#
# è¿œç¨‹è§„åˆ™é›†
rule-providers:
  Anti-AD:
    behavior: domain-text
    interval: 172800
    url: https://anti-ad.net/surge.txt
  AdRule-rule:
    behavior: domain-text
    interval: 172800
    url: https://raw.githubusercontent.com/NobyDa/Script/master/Surge/AdRule.list
  Hijacking-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.yaml
  Emby-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Emby/Emby.yaml
  TikTok-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml
  Github-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml
  Google-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
  Spotify-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml
  Twitter-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml
  Netflix-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml
  Disney-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml
  YouTube-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
  ChatGPT-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml
  Telegram-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
  Instagram-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Instagram/Instagram.yaml
  Facebook-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Facebook/Facebook.yaml
  NetEaseMusic-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/NetEaseMusic/NetEaseMusic.yaml
  Microsoft-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
  Apple-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml
  Apple_Domain:
    behavior: domain
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_Domain.yaml
  China:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.yaml
  ChinaIPs:
    behavior: ipcidr
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaIPs/ChinaIPs_IP.yaml
  Lan-rule:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml
  ChinaCompanyIp:
    behavior: domain-text
    interval: 172800
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list
  ChinaDomain:
    behavior: domain-text
    interval: 172800
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list
  ChinaMedia:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMedia/ChinaMedia.yaml
  ProxyMedia:
    behavior: domain-text
    interval: 172800
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list
  Streaming:
    behavior: domain-text
    interval: 172800
    url: https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list
  #å…¨çƒåŠ é€Ÿ
  Global:
    behavior: classical
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global.yaml
  Global_Domain:
    behavior: domain
    interval: 172800
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global_Domain.yaml


#===================================#
# è§„åˆ™é›†
rules:
    # ADå¤„ç†
    - DOMAIN-KEYWORD,pangolin,æ‹¦æˆªæ¨¡å¼
    - DOMAIN-KEYWORD,pglstatp,æ‹¦æˆªæ¨¡å¼
    - DOMAIN-KEYWORD,adview,æ‹¦æˆªæ¨¡å¼
    - DOMAIN-SUFFIX,gdt.qq.com,æ‹¦æˆªæ¨¡å¼
    # ç½‘æ˜“äº‘éŸ³ä¹å¹¿å‘Šæ‹¦æˆª
    - DOMAIN,admusicpic.music.126.net,æ‹¦æˆªæ¨¡å¼
    - DOMAIN,iadmat.nosdn.127.net,æ‹¦æˆªæ¨¡å¼
    - DOMAIN,iadmusicmat.music.126.net,æ‹¦æˆªæ¨¡å¼
    - DOMAIN,iadmusicmatvideo.music.126.net,æ‹¦æˆªæ¨¡å¼
    # æŒä¸Šå…¬äº¤å»å¹¿å‘Š
    - DOMAIN,quanguo.mygolbs.com,æ‹¦æˆªæ¨¡å¼
    - DOMAIN,cpu-openapi.baidu.com,æ‹¦æˆªæ¨¡å¼
    # HDOBOXå½±è§†Appå»å¹¿å‘Š
    - DOMAIN-SUFFIX,applovin.com,æ‹¦æˆªæ¨¡å¼
    - DOMAIN-SUFFIX,applvn.com,æ‹¦æˆªæ¨¡å¼
    # Anti-AD
    - RULE-SET,Anti-AD,æ‹¦æˆªæ¨¡å¼
    # Advertising
    - DOMAIN-KEYWORD,adservice,æ‹¦æˆªæ¨¡å¼
    # æ‹¦æˆªå¹¿å‘Š
    - RULE-SET,AdRule-rule,æ‹¦æˆªæ¨¡å¼
    # è¿è¥åŠ«æŒ
    - RULE-SET,Hijacking-rule,æ‹¦æˆªæ¨¡å¼
    # Emby
    - RULE-SET,Emby-rule,Emby
    - GEOSITE,emby,Emby
    - DOMAIN-KEYWORD,emby,Emby
    # TikTok
    - RULE-SET,TikTok-rule,TikTok
    - GEOSITE,tiktok,TikTok
    - DOMAIN-KEYWORD,tiktok,TikTok
    # Github
    - RULE-SET,Github-rule,Github
    - GEOSITE,github,Github
    - DOMAIN-KEYWORD,github,Github
    # YouTube
    - RULE-SET,YouTube-rule,YouTube
    - GEOSITE,youtube,YouTube
    - DOMAIN-KEYWORD,youtube,YouTube
    # YouTube Music
    - DOMAIN,music.youtube.com,YouTube
    # Google
    - RULE-SET,Google-rule,Google
    - GEOSITE,google,Google
    - DOMAIN-KEYWORD,google,Google
    # Spotify
    - RULE-SET,Spotify-rule,Spotify
    - GEOSITE,spotify,Spotify
    - DOMAIN-KEYWORD,Spotify,Spotify
    # Twitter
    - RULE-SET,Twitter-rule,Twitter
    - GEOSITE,twitter,Twitter
    - DOMAIN-KEYWORD,twitter,Twitter
    # Netflix
    - RULE-SET,Netflix-rule,Netflix
    - GEOSITE,netflix,Netflix
    - DOMAIN-KEYWORD,netflix,Netflix
    # Disney
    - RULE-SET,Disney-rule,Disney
    - GEOSITE,disney,Disney
    - DOMAIN-KEYWORD,disney,Disney
    # ChatGPT
    - RULE-SET,ChatGPT-rule,ChatGPT
    - GEOSITE,openai,ChatGPT
    - DOMAIN-KEYWORD,openai,ChatGPT
    - DOMAIN-SUFFIX,poe.com,ChatGPT
    - DOMAIN-SUFFIX,openai.com,ChatGPT
    # Telegram
    - RULE-SET,Telegram-rule,Telegram
    - GEOSITE,telegram,Telegram
    - DOMAIN-KEYWORD,telegram,Telegram
    # Instagram
    - RULE-SET,Instagram-rule,Instagram
    - GEOSITE,instagram,Instagram
    - DOMAIN-KEYWORD,instagram,Instagram
    # Facebook
    - RULE-SET,Facebook-rule,Facebook
    - GEOSITE,Facebook,Facebook
    - DOMAIN-KEYWORD,Facebook,Facebook
    # ç½‘æ˜“äº‘éŸ³ä¹
    - RULE-SET,NetEaseMusic-rule,ç½‘æ˜“äº‘éŸ³ä¹
    # Microsoftå¾®è½¯æœåŠ¡
    - RULE-SET,Microsoft-rule,å¾®è½¯æœåŠ¡
    - GEOSITE,microsoft,å¾®è½¯æœåŠ¡
    - DOMAIN-KEYWORD,microsoft,å¾®è½¯æœåŠ¡
    # ç³»ç»Ÿæ›´æ–°
    - DOMAIN,appstoreconnect.apple.com,ç³»ç»Ÿæ›´æ–°
    - DOMAIN,iosapps-ssl.itunes.apple.com, ç³»ç»Ÿæ›´æ–°
    - DOMAIN,itcmobile.itunes.apple.com,ç³»ç»Ÿæ›´æ–°
    - DOMAIN,mesu.apple.com,ç³»ç»Ÿæ›´æ–°
    - DOMAIN,gdmf.apple.com,ç³»ç»Ÿæ›´æ–°
    - DOMAIN,updates-http.cdn-apple.com,ç³»ç»Ÿæ›´æ–°
    - DOMAIN,xp.apple.com,ç³»ç»Ÿæ›´æ–°
    # è‹¹æœæœåŠ¡
    - RULE-SET,Apple-rule,è‹¹æœæœåŠ¡
    - RULE-SET,Apple_Domain,è‹¹æœæœåŠ¡
    - DOMAIN,apps.apple.com,è‹¹æœæœåŠ¡
    - DOMAIN,itunes.apple.com,è‹¹æœæœåŠ¡
    - DOMAIN,beta.apple.com,è‹¹æœæœåŠ¡
    - DOMAIN,testflight.apple.com,è‹¹æœæœåŠ¡
    - DOMAIN-KEYWORD,apple,è‹¹æœæœåŠ¡
    - DOMAIN-KEYWORD,testflight,è‹¹æœæœåŠ¡
    - DOMAIN-KEYWORD,icloud,è‹¹æœæœåŠ¡
    - GEOSITE,apple,è‹¹æœæœåŠ¡
    # China
    - RULE-SET,China,ç›´è¿æ¨¡å¼
    # ChinaIPs
    - RULE-SET,ChinaIPs,ç›´è¿æ¨¡å¼
    # Chinaå…¬å¸
    - RULE-SET,ChinaCompanyIp,ç›´è¿æ¨¡å¼
    # å±€åŸŸç½‘åœ°å€
    - RULE-SET,Lan-rule,ç›´è¿æ¨¡å¼
    - GEOSITE,LAN,ç›´è¿æ¨¡å¼
    # ChinaåŸŸå
    - RULE-SET,ChinaDomain,ç›´è¿æ¨¡å¼
    # ChinaMedia
    - RULE-SET,ChinaMedia,ç›´è¿æ¨¡å¼
    # æœç‹—
    - DOMAIN-KEYWORD,sogou,ç›´è¿æ¨¡å¼
    # äº¬ä¸œ
    - DOMAIN-SUFFIX,jd.com,ç›´è¿æ¨¡å¼
    # ç¾å›¢
    - DOMAIN-KEYWORD,meituan,ç›´è¿æ¨¡å¼
    # ç™¾åº¦
    - DOMAIN-KEYWORD, baidu, ç›´è¿æ¨¡å¼
    # å›½é™…ä»£ç†
    - GEOSITE,steam@cn,ç›´è¿æ¨¡å¼
    - DOMAIN-KEYWORD,steam,å›½é™…ä»£ç†
    - DOMAIN-KEYWORD,xbox,å›½é™…ä»£ç†
    - RULE-SET,ProxyMedia,å›½é™…ä»£ç†
    - RULE-SET,Streaming,å›½é™…ä»£ç†
    # å…¨çƒåŠ é€Ÿ
    - RULE-SET,Global,å…¨çƒåŠ é€Ÿ
    - RULE-SET,Global_Domain,å…¨çƒåŠ é€Ÿ
    # GeoIP Chinaï¼Œç›´è¿
    - GEOIP,CN,ç›´è¿æ¨¡å¼
    # ä¸åœ¨ä¸Šè¿°è§„åˆ™ä¸­(è¿œç¨‹ä»¥åŠæœ¬åœ°)çš„å‰©ä½™è¯·æ±‚ï¼Œå°†èµ°MATCH æŒ‡å®šçš„èŠ‚ç‚¹/ç­–ç•¥ï¼Œè¿™é‡Œå³æ˜¯ â†’ å…¨çƒåŠ é€Ÿ, è¯·æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥é€‰æ‹©ç›´è¿æˆ–èŠ‚ç‚¹ã€ç­–ç•¥
    - MATCH,å…¨çƒåŠ é€Ÿ
